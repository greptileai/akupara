# Container selection
TAG="dev-build" #should be set to the tag of the version you are using
ECR_REGISTRY="123456789012.dkr.ecr.us-east-1.amazonaws.com" # should be set to Greptile's private ECR registry

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DATABASE_URL="postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/postgres"
DIRECT_URL="postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/postgres"

VECTOR_DB_HOST=${DB_HOST}
VECTOR_DB_NAME=vector
VECTOR_DB_PASSWORD=${DB_PASSWORD}
VECTOR_DB_PORT=${DB_PORT}
VECTOR_DB_PROVIDER=pgvector
VECTOR_DB_USER=${DB_USER}
VECTOR_EMBEDDINGS_TABLE_NAME=embeddings
VECTOR_DB_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/vector

# Greptile Services
IP_ADDRESS=<your_public_server_IP_address>
APP_URL=http://${IP_ADDRESS}:3000
NEXTAUTH_URL=http://${IP_ADDRESS}:3000
GREPTILE_AUTH_SERVER=http://greptile_auth_service:3001
GREPTILE_API_URL=http://greptile_api_service:3002/v2
API_URL=http://greptile_api_service:3002
GITHUB_WEBHOOK_URL=http://greptile_webhook_service:3007/webhook
GITLAB_WEBHOOK_URL=http://greptile_webhook_service:3007/webhook
QUERY_URL=http://greptile_query_service:8081/query
REDIS_HOST=redis
REDIS_PORT=6379

# Authentication
JWT_SECRET=your_jwt_secret_32_characters_long
AUTH_SECRET=${JWT_SECRET}
AUTH_BOXYHQ_SAML_ID="dummy"
AUTH_BOXYHQ_SAML_SECRET="dummy"
AUTH_BOXYHQ_SAML_ISSUER="http://localhost:5225"
AUTH_BOXYHQ_URL="http://localhost:5225"
AUTH_BOXYHQ_API_KEY=""

# GITHUB
GITHUB_ENABLED=false
GITHUB_ENTERPRISE_ENABLED=true
GITHUB_APP_ID=12345
GITHUB_APP_URL=https://github.your-enterprise.com/github-apps/greptile-on-premise
GITHUB_CLIENT_ID=Iv1.your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret_goes_here
GITHUB_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----\nYOUR_PRIVATE_KEY_CONTENT_GOES_HERE\nREPLACE_WITH_YOUR_ACTUAL_PRIVATE_KEY\n-----END RSA PRIVATE KEY-----
GITHUB_BOT_USERNAME=your-bot-username
GITHUB_BOT_LOGIN=your-apps-login
GITHUB_WEBHOOK_SECRET=your_webhook_secret_40_characters
WEBHOOK_SECRET=your_webhook_secret_40_characters
# Enterprise
GITHUB_ENTERPRISE_APP_URL=${GITHUB_APP_URL}
GITHUB_ENTERPRISE_APP_ID=${GITHUB_APP_ID}
GITHUB_ENTERPRISE_API_URL=https://github.your-enterprise.com/api/v3/
GITHUB_ENTERPRISE_URL=https://github.your-enterprise.com
GITHUB_ENTERPRISE_APP_PRIVATE_KEY=${GITHUB_PRIVATE_KEY}
GITHUB_ENTERPRISE_CLIENT_ID=${GITHUB_CLIENT_ID}
GITHUB_ENTERPRISE_CLIENT_SECRET=${GITHUB_CLIENT_SECRET}

AUTH_GITHUB_ID=${GITHUB_ENTERPRISE_CLIENT_ID}
AUTH_GITHUB_SECRET=${GITHUB_ENTERPRISE_CLIENT_SECRET}

GITLAB_ENABLED=true

# Email Configuration
EMAIL_PROVIDER=SES
AUTH_EMAIL_FROM=your-email@your-domain.com

TOKEN_ENCRYPTION_KEY=your_32_character_encryption_key

HATCHET_CLIENT_TOKEN=your_hatchet_jwt_token_goes_here
HATCHET_CLIENT_TLS_STRATEGY=none
AWS_REGION=us-east-1

# LLM
ANTHROPIC_KEY=sk-ant-api03-your_anthropic_api_key_here
ANTHROPIC_BASE_URL=https://anthropic.helicone.ai
REFINER_MODEL_PROVIDER=anthropic # used by review service
AGENT_MODEL_PROVIDER=openai
CHAT_MODEL_PROVIDER=anthropic
MEMORY_CHAT_MODEL_PROVIDER=anthropic
SUMMARIZER_MODEL_PROVIDER=azure
SUMMARIZER_MODEL=gpt-4o-mini

EMBEDDINGS_MODEL_PROVIDER=azure # Used by Query, Reviews and Summarizer service.
EMBEDDINGS_MODEL=text-embedding-3-small

OPENAI_KEY=sk-proj-your_openai_api_key_goes_here
OPENAI_API_BASE_URL=https://oai.hconeai.com/v1
AZURE_OPENAI_KEY=your_azure_openai_api_key
AZURE_OPENAI_URL=https://your-resource.openai.azure.com/
AZURE_OPENAI_SUMMARIZER_DEPLOYMENT_NAME=greptile-35-turbo
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT_NAME=text-embedding-ada-002
AZURE_OPENAI_SUMMARIZER_API_VERSION=2024-03-01-preview
AZURE_OPENAI_EMBEDDINGS_API_VERSION=2023-05-15
AGENT_MODEL="us.anthropic.claude-3-5-sonnet-20241022-v2:0"
CHAT_MODEL="us.anthropic.claude-3-5-sonnet-20241022-v2:0"

BATCH_SIZE=99
WORKER_HASH=on-prem-test
HATCHET_REVIEWER_SLOTS=2
HATCHET_REVIEWER_DURABLE_SLOTS=10000

# Integrations
SLACK_WEBHOOK_URL=test
SLACK_ENABLED=false

# Misc
LOG_FORMAT=json
ANALYTICS=false
POSTHOG_KEY=dummy
BILLING=false
NOTIFICATIONS=false
HIDE_SOCIALS=true
NODE_ENV=development
LINEAR_ENABLED=false
POSTHOG_KEY=dummyposthogkey
POSTHOG_HOST=dummyposthoghost
# Workaround to prevent failing stripe API usage call in API service
BENCHMARK=true 